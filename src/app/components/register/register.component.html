<div class="container">
    <form [formGroup]="formData" (ngSubmit)="onSubmit()" >
        <div class="heading">
            <h2>Welcome!!!</h2>
            <p>Please Enter your details to register</p>
        </div>
        
        <div class="form-element">
            <label for="name" class="label">Full name</label>
            <input type="text" name="name" id="name" placeholder="Enter your full name" formControlName="name" />

            @if (isName.invalid && isName.dirty) {
                <p class="class">please enter your name</p>
            }
        </div>

        <div class="form-element">
            <label for="email" class="label">Email</label>
            <input type="text" id="email" name="email" placeholder="Enter your email" formControlName="email" autocomplete="email" />
          
            @if (isEmail.invalid && isEmail.touched && !isEmail.dirty) {
                <p class="error">please enter email</p>
            }
            @if (isEmail.invalid && isEmail.touched && isEmail.dirty) {
                <p class="error">please enter valid email</p>
            }
        </div >

        
        <div formGroupName="passwords">
            <div class="form-element" >
                <label for="password" class="label">Password</label>
                <input type="password" id="password" name="password" placeholder="Enter your password" formControlName="password" autocomplete="new-password" />

                @if (isPassword.password.touched && isPassword.password.invalid) {
                    <p class="error">please enter 8 digit password</p>
                }
            </div>

            
            <div class="form-element">
                <label for="cnf-password" class="label">Confirm Password</label>
                <input type="password" id="cnfpassword" name="cnfpassword" placeholder="Re-enter your password" formControlName="confirmPassword" autocomplete="new-password" />

                @if (isPassword.confirmPassword.touched && isPassword.confirmPassword.invalid) {
                    <p class="error">please enter 8 digit password</p>
                }
                @if (isPassword.password.touched && isPassword.confirmPassword.touched && isPasswords.errors?.['notSame']) {
                    <p class="error">password do not match</p>
                }
            </div>

        </div>
        

        <div>
            <button class="button" type="submit" [disabled]="formData.invalid">Register</button>
        </div>
     
    </form>
</div>
<div class="login-link">Already have an account? <a routerLink="/login">Login</a></div>